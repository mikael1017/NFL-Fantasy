<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div>
        <label>File:</label>
        <input type="file" id="inputField" />
        <button>Submit file</button>
    </div>

</body>
<script src="./dist/browser/bundle.js"></script>
<script>


    var inputElement = document.getElementById("inputField");
    inputElement.addEventListener("change", handleFiles, false);

    async function handleFiles() {
        var fileList = this.files;
        const file = new data.open(fileList[0])
        // console.log(file);
        // console.log("newww", fileList[0]);

        // const rowStream = await file.rows({ size: 20, keyed: true });
        // file.descriptor.sample = await toArray(rowStream);
        // console.log("rowStream: ", rowStream);
        // await file.addSchema();

        // console.log("descriptor: ", file);

        // // Show the progress of the hash generator on console in devtools

        let hash = await file.hash("sha256", (percent) => {
            console.log(percent);
        })
        console.log(hash);
        //test if hash is cached
        let cachehash = await file.hash("sha256", (percent) => {
            console.log(percent);
        })
        console.log(cachehash);


        // console.log("lenght", Buffer.byteLength(contentBuffer));
    }

</script>

</html>